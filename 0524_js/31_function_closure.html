<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Function Closure</title>
    <!-- 
        클로저
            - 외부 접근이 안되는 환경에서 내부용으로 사용하는 변수를 밖에서 확인할 수 있도록 하는 것
     -->
    <script>
        // return에 함수를 작성하는 이유
        // -> closer 기능
        function alertFunc() {
            return function() {
                alert("hello js");
            }
        }
        // 첫번재 괄호 : alertFunc() / 두번쨰 괄호 : return 뒤 익명 함수
        alertFunc()();

        //-----------------------------------------------------------

        // closer 기능 관련 실습
        function test() {
            var output = "My name is " + name;
        }
        // output은 지역변수이기 떄문에 출력 x
        //alert(output);


        function test1(name) {
            var output1 = "My name is " + name;
            return function() {
                alert(output1);
            }
        }
        test1("yun")();

        //-----------------------------------------------------------

        function test2(name) {
            var output2 = "My name is " + name;
            return function() {
                alert(output2);
            }
        }

        // 출력 형식_1 -----------------------------------------
        // "My name is web" -> undefined
        var aaa = test2("web")();

        // 출력 형식_2 -----------------------------------------
        // test2 함수에 인자가 들어가 있는 상태가 bbb에 저장됨
        var bbb = test2("server");
        // "My name is server"
        bbb();

        // 출력 형식_3 -----------------------------------------
        // "My name is js"
        test2("js")();


        //-----------------------------------------------------------
        // 클로저 예시 1
        function outFunc() {
            var outValue = "I am John";

            function inFunc() {
                alert(outValue);
            }
            // return inFunc();
            return inFunc;
        }

        var closure = outFunc();

        closure();

    </script>
</head>
<body>
    
</body>
</html>